<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>My first three.js app</title>
		<style>
			body { margin: 0; }
		</style>
	</head>
	<body>
        <script src="Sketchbook-master/build/sketchbook.min.js"></script>
        <script>
            const world = new Sketchbook.World('car.blend');

        </script>
        <script src="three.js-master/build/three.min.js"></script>
        <script src="cannon.js-master/build/cannon.min.js"></script>
        <script src="script.js"></script>

		<script>
            // three js and cannon js init function
            init();
            
            let ZOMBIES = false;
            let score = 0;
            let speed = 0.010;
            let x = 1;
            let y = 1;
            let z = 1;      
            let height = 1;
            let width = 1;
            let depth = 1;
            let direction = {x: 0, y: 0, z: 0};
            let player;

            player = new THREE.Mesh(new THREE.BoxGeometry(width, height, depth), new THREE.MeshLambertMaterial({color: new THREE.Color(`hsl(10,100%,50%)`)}));
            player.position.set(x,y,z);
            scene.add(player);

            // game loop
			function animate() {
				requestAnimationFrame( animate );
                x+= direction.x;
                y+=direction.y;
                // z+=direction.z;
                player.position.set(x,y,z)
				renderer.render( scene, camera );
			};
            animate();
            // controls

            addEventListener('keypress', e => {
                switch(e.code) {
                    case 'ArrowUp':
                        direction.y = .1;
                        break;
                    case 'ArrowRight': 
                        direction.x = .1;
                        break;
                    case 'ArrowDown':
                        direction.y = -.1;
                        break;
                    case 'ArrowLeft':
                        direction.x = -.1;
                        break;
                    default:
                        direction = {x: 0,y: 0};
                        break;

                }
            })

            addEventListener('keydown', e => {
                switch(e.code) {
                    case 'ArrowUp':
                        direction.y = .1;
                        break;
                    case 'ArrowRight': 
                        direction.x = .1;
                        break;
                    case 'ArrowDown':
                        direction.y = -.1;
                        break;
                    case 'ArrowLeft':
                        direction.x = -.1;
                        break;
                    default:
                        direction = {x: 0,y: 0};
                        break;
                }
            })

		</script>
    </body>